var u=Object.defineProperty;var f=(n,e,o)=>e in n?u(n,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[e]=o;var a=(n,e,o)=>(f(n,typeof e!="symbol"?e+"":e,o),o);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}})();class i{constructor(e,o,s){this.user=e,this.token=o,this.data=s}}class d{constructor(){a(this,"next",null)}setNext(e){return this.next=e,e}handle(e){return this.next?this.next.handle(e):null}}class h extends d{handle(e){return!e.user||!e.token?"AuthMiddleware: Аутентифікація не вдалася.":(console.log("AuthMiddleware: Аутентифікація пройшла успішно."),super.handle(e))}}class p extends d{handle(e){return e.user!=="admin"?"PermissionMiddleware: Доступ заборонений.":(console.log("PermissionMiddleware: Доступ дозволений."),super.handle(e))}}class m extends d{handle(e){return!e.data||typeof e.data!="object"?"ValidationMiddleware: Невірні дані.":(console.log("ValidationMiddleware: Дані правильні."),super.handle(e))}}const c=new h,w=new p,g=new m;c.setNext(w).setNext(g);const y=[new i(null,null,{key:"value"}),new i("user","token123",null),new i("admin","token123",{key:"value"})];for(const n of y){console.log("Обробка нового запиту...");const e=c.handle(n);console.log(e||"Запит оброблений успішно."),console.log("----------------------------")}
//# sourceMappingURL=index.js.map
